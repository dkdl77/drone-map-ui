<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>드론 객체 탐지 지도</title>
  <style>
    body { font-family: sans-serif; }
    #map { width: 100%; height: 500px; margin: 20px 0; }
    #detect { margin-bottom: 20px; }
  </style>
</head>
<body>
  <h2>드론 객체 탐지 지도 (조건 충족 시 마커 표시)</h2>
  <button id="detect">드론 객체 탐지 시뮬레이션</button>
  <div id="map"></div>
  <!-- Google Maps API: 아래 YOUR_API_KEY를 본인 키로 교체 -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCI_zBk8q3oE9kvcSgS__TCcpT2meVQpt4"></script>
  <script>
    // 지도 중심 좌표(서울시청 근처)
    const center = { lat: 37.5665, lng: 126.9780 };

    // 탐지 객체 예시 데이터
    const detectedObject = {
      lat: 37.567, lng: 126.982, type: "person", confidence: 0.95
    };

    let map;
    let marker = null;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center,
        zoom: 15
      });
    }

    function handleDetection() {
      if (detectedObject.confidence >= 0.9) {
        if (marker) marker.setMap(null);
        marker = new google.maps.Marker({
          position: { lat: detectedObject.lat, lng: detectedObject.lng },
          map,
          title: `탐지 객체: ${detectedObject.type}`
        });
        map.panTo({ lat: detectedObject.lat, lng: detectedObject.lng });
        alert('조건을 만족하는 객체를 탐지하여 지도에 마커를 표시했습니다!');
      } else {
        alert('조건을 만족하는 객체가 아닙니다. 마커를 표시하지 않습니다.');
      }
    }

    window.onload = () => {
      initMap();
      document.getElementById('detect').onclick = handleDetection;
    };
  </script>
</body>
</html>
